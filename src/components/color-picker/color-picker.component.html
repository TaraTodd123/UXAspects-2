<div class="ux-color-picker" uxTabbableList direction="horizontal">
    <div class="ux-color-picker-swatch">
        <div *ngFor="let row of _colors" class="ux-color-picker-swatch-row">

            <div *ngFor="let color of row"
                class="ux-color-picker-color"
                [class.ux-small]="buttonSize === 'sm'"
                [class.ux-large]="buttonSize=== 'lg'"
                [class.ux-circle]="buttonStyle === 'circle'"
                [class.ux-selected]="color === selected">

                <button type="button"
                    uxFocusIndicator
                    [attr.aria-label]="colorAriaLabel(color)"
                    aria-selected="color === selected"
                    class="btn btn-icon"
                    [uxColorContrast]="color.hex"
                    [style.background-color]="color.rgba"
                    (click)="selectedChange.emit(color)"
                    uxTabbableListItem
                    [uxTooltip]="color.name"
                    [tooltipDisabled]="!showTooltips">

                    <ux-icon name="checkmark"></ux-icon>
                </button>

            </div>
        </div>
    </div>

    <div *ngIf="showInput" class="ux-color-picker-input-panel">
        <div class="ux-color-picker-input-header">

            <div class="ux-color-picker-preview"
                [style.background-color]="selected?.rgba"
                [class.ux-circle]="buttonStyle === 'circle'">
            </div>

            <label *ngIf="inputMode === 'hex'" attr.for="{{ id }}-input-field">HEX</label>
            <label *ngIf="inputMode === 'rgba'" attr.for="{{ id }}-input-field">RGBA</label>

            <button type="button"
                [attr.aria-label]="switchModeAriaLabel(inputMode)"
                class="btn btn-link btn-icon button-secondary ux-color-picker-input-toggle"
                (click)="toggleInputMode(); $event.stopPropagation()">
                <ux-icon name="chevron-right"></ux-icon>
            </button>
        </div>

        <div class="ux-color-picker-input"
            [class.has-error]="_input.errors"
            [class.has-feedback]="_input.errors">

            <input type="text"
                attr.id="{{id}}-input-field"
                [attr.aria-description]="inputAriaLabel(inputMode)"
                class="form-control"
                [formControl]="_input"
                (keyup.enter)="inputSubmit.emit()">

                <ux-icon class="form-control-feedback" name="alert"></ux-icon>
        </div>
    </div>
</div>
